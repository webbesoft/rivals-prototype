{% if page_obj.has_other_pages %}
<nav
  role="navigation"
  aria-label="Pagination Navigation"
  class="flex items-center justify-between"
>
  <!-- Mobile view -->
  <div class="flex justify-between flex-1 sm:hidden">
    <!-- Previous -->
    {% if page_obj.has_previous %}
    <a
      href="?page={{ page_obj.previous_page_number }}"
      class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-green-100 bg-green-800 border border-green-700 leading-5 rounded-md hover:text-green-200 hover:bg-green-700 focus:outline-none focus:ring ring-green-600 transition ease-in-out duration-150"
    >
      Previous
    </a>
    {% else %}
    <span
      class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-green-400 bg-green-900/30 border border-green-800 cursor-default leading-5 rounded-md"
    >
      Previous
    </span>
    {% endif %}

    <!-- Next -->
    {% if page_obj.has_next %}
    <a
      href="?page={{ page_obj.next_page_number }}"
      class="relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-green-100 bg-green-800 border border-green-700 leading-5 rounded-md hover:text-green-200 hover:bg-green-700 focus:outline-none focus:ring ring-green-600 transition ease-in-out duration-150"
    >
      Next
    </a>
    {% else %}
    <span
      class="relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-green-400 bg-green-900/30 border border-green-800 cursor-default leading-5 rounded-md"
    >
      Next
    </span>
    {% endif %}
  </div>

  <!-- Desktop view -->
  <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
    <div>
      <p class="text-sm leading-5">
        Showing {% if page_obj.start_index %}
        <span class="font-medium">{{ page_obj.start_index }}</span>
        to
        <span class="font-medium">{{ page_obj.end_index }}</span>
        {% else %} {{ page_obj|length }} {% endif %} of
        <span class="font-medium">{{ paginator.count }}</span>
        results
      </p>
    </div>

    <div>
      <span
        class="relative z-0 inline-flex rtl:flex-row-reverse shadow-sm rounded-md"
      >
        <!-- Previous Page Link -->
        {% if page_obj.has_previous %}
        <a
          href="?page={{ page_obj.previous_page_number }}"
          rel="prev"
          class="relative inline-flex items-center px-2 py-2 text-sm font-medium text-green-100 bg-green-800 border border-green-900 rounded-l-md leading-5 hover:text-green-200 hover:bg-green-700 focus:z-10 focus:outline-none focus:ring ring-green-600 transition ease-in-out duration-150"
          aria-label="Previous"
        >
          ‹
        </a>
        {% else %}
        <span aria-disabled="true" aria-label="Previous">
          <span
            class="relative inline-flex items-center px-2 py-2 text-sm font-medium text-green-500 bg-green-900/90 border border-green-800 cursor-default rounded-l-md leading-5"
            aria-hidden="true"
          >
            ‹
          </span>
        </span>
        {% endif %}

        <!-- Pagination Elements -->
        {% for page_num in paginator.page_range %} {% if page_num ==
        page_obj.number %}
        <span aria-current="page">
          <span
            class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-green-900 bg-green-700 border border-green-400 cursor-default leading-5"
          >
            {{ page_num }}
          </span>
        </span>
        {% elif page_num > page_obj.number|add:"-3" and page_num <
        page_obj.number|add:"3" %}
        <a
          href="?page={{ page_num }}"
          class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-green-100 bg-green-800 border border-green-700 leading-5 hover:text-green-200 hover:bg-green-700 focus:z-10 focus:outline-none focus:ring ring-green-600 transition ease-in-out duration-150"
          aria-label="Go to page {{ page_num }}"
        >
          {{ page_num }}
        </a>
        {% elif page_num == 1 and page_obj.number > 4 %}
        <a
          href="?page=1"
          class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-green-100 bg-green-800 border border-green-700 leading-5 hover:text-green-200 hover:bg-green-700 focus:z-10 focus:outline-none focus:ring ring-green-600 transition ease-in-out duration-150"
        >
          1
        </a>
        {% if page_obj.number > 5 %}
        <span aria-disabled="true">
          <span
            class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-green-400 bg-green-900/30 border border-green-800 cursor-default leading-5"
          >
            ...
          </span>
        </span>
        {% endif %} {% elif page_num == paginator.num_pages and page_obj.number
        < paginator.num_pages|add:"-3" %} {% if page_obj.number <
        paginator.num_pages|add:"-4" %}
        <span aria-disabled="true">
          <span
            class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-green-400 bg-green-900/30 border border-green-800 cursor-default leading-5"
          >
            ...
          </span>
        </span>
        {% endif %}
        <a
          href="?page={{ paginator.num_pages }}"
          class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-green-100 bg-green-800 border border-green-700 leading-5 hover:text-green-200 hover:bg-green-700 focus:z-10 focus:outline-none focus:ring ring-green-600 transition ease-in-out duration-150"
        >
          {{ paginator.num_pages }}
        </a>
        {% endif %} {% endfor %}

        <!-- Next Page Link -->
        {% if page_obj.has_next %}
        <a
          href="?page={{ page_obj.next_page_number }}"
          rel="next"
          class="relative inline-flex items-center px-2 py-2 -ml-px text-sm font-medium text-green-100 bg-green-800 border border-green-700 rounded-r-md leading-5 hover:text-green-200 hover:bg-green-700 focus:z-10 focus:outline-none focus:ring ring-green-600 transition ease-in-out duration-150"
          aria-label="Next"
        >
          ›
        </a>
        {% else %}
        <span aria-disabled="true" aria-label="Next">
          <span
            class="relative inline-flex items-center px-2 py-2 -ml-px text-sm font-medium text-green-500 bg-green-900/90 border border-green-800 cursor-default rounded-r-md leading-5"
            aria-hidden="true"
          >
            ›
          </span>
        </span>
        {% endif %}
      </span>
    </div>
  </div>
</nav>
{% endif %}
